import{a as _}from"./chunk-HGTZCTRA.js";import{b as h,d as y}from"./chunk-LPEZ3JC5.js";import{a as xe,c as ve}from"./chunk-WFX6QRQI.js";import{g as ue}from"./chunk-VFI3CL4T.js";import{a as V}from"./chunk-TS7RBXCZ.js";import{Aa as l,Ba as x,C as ne,Ca as u,D as T,E as f,Ea as re,Fa as K,Ga as ae,Ia as g,Ja as le,Ka as v,M as b,N as w,Na as ce,O as I,P as E,Pa as se,S as P,Sb as z,Ua as j,V as oe,Vb as fe,Z as a,_ as m,ab as pe,bb as me,ca as B,fc as ge,gc as C,h as Y,ha as s,j as O,ja as k,ka as A,la as D,ma as R,na as L,oa as n,p as Z,pa as r,q as ee,qa as d,ra as N,sa as M,ta as p,u as te,xb as de,z as ie}from"./chunk-OXMZZWT6.js";function _e(i,t){if(i&1&&(n(0,"div",6),l(1),r()),i&2){let e=t.$implicit;a(),u(" ",e," ")}}function Se(i,t){if(i&1&&(n(0,"div",1)(1,"div",4),l(2),r(),n(3,"div",5),R(4,_e,2,1,"div",6,D),r()()),i&2){let e=p();a(2),u(" ",e.article.name," "),a(2),L(e.article.categories)}}function be(i,t){i&1&&(n(0,"div",2),l(1,"Learn about Paimon"),r())}var U=class i{constructor(t,e,o){this.activatedRoute=t;this.router=e;this.articleService=o;this.article=null;this.destroyRef=T(P)}ngOnInit(){this.router.events.pipe(Z(t=>t instanceof de),te(!0),O(()=>!0),V(this.destroyRef)).subscribe(()=>{let t=this.activatedRoute?.snapshot?.firstChild?.params?.id;t?this.loadArticle(t):this.article=null})}loadArticle(t){this.articleService.get(t).subscribe(e=>{this.article=e})}static{this.\u0275fac=function(e){return new(e||i)(m(z),m(ge),m(_))}}static{this.\u0275cmp=f({type:i,selectors:[["paimon-blog"]],standalone:!0,features:[g],decls:6,vars:1,consts:[["header",""],[1,"flex","flex-col","gap-6"],["translate","",1,"mt-16","text-6xl","font-normal","text-paimon-gray-3"],["content","",1,"px-8","pb-10","text-paimon-gray-14"],[1,"mt-16","text-4xl","font-normal","text-paimon-gray-3"],[1,"hidden","flex-row","flex-wrap","gap-4","md:flex"],[1,"flex","h-8","w-max","cursor-pointer","items-center","justify-center","rounded-2xl","bg-paimon-gray-12","px-4","py-2"]],template:function(e,o){e&1&&(n(0,"paimon-page-container")(1,"div",0),B(2,Se,6,1,"div",1)(3,be,2,0,"div",2),r(),n(4,"div",3),d(5,"router-outlet"),r()()),e&2&&(a(2),A(o.article?2:3))},dependencies:[ve,fe,y,h],encapsulation:2,changeDetection:0})}};var W=class i{constructor(t){this.articleService=t}preload(t){return this.articleService.get(t).pipe(O(()=>!0),ee(()=>Y(!1)))}canActivate(t){return this.preload(t.params?.id)}static{this.\u0275fac=function(e){return new(e||i)(ne(_))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}};var H=class i{constructor(){this.preUrl=[];this.nextUrl=[]}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=f({type:i,selectors:[["paimon-blog-detail-footer"]],inputs:{preName:"preName",preUrl:"preUrl",nextName:"nextName",nextUrl:"nextUrl"},standalone:!0,features:[g],decls:11,vars:8,consts:[[1,"flex","justify-between"],[1,"flex","items-center","gap-2","text-base","hover:text-paimon-blue-primary",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 19.5 8.25 12l7.5-7.5"],["stroke-linecap","round","stroke-linejoin","round","d","m8.25 4.5 7.5 7.5-7.5 7.5"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"a",1),I(),n(2,"svg",2),d(3,"path",3),r(),E(),n(4,"span"),l(5),r()(),n(6,"a",1)(7,"span"),l(8),r(),I(),n(9,"svg",2),d(10,"path",4),r()()()),e&2&&(a(),k("invisible",!o.preName),s("routerLink",o.preUrl),a(4),x(o.preName),a(),k("invisible",!o.nextName),s("routerLink",o.nextUrl),a(2),x(o.nextName))},dependencies:[C],encapsulation:2,changeDetection:0})}};var we=()=>["/","blog"],Ce=i=>["/","blog",i];function Ae(i,t){if(i&1&&(n(0,"paimon-markdown-render",0)(1,"div",1)(2,"ol",2)(3,"li",3),I(),n(4,"svg",4),d(5,"path",5),r(),E(),n(6,"a",6),l(7," Learn about Paimon "),r(),I(),n(8,"svg",7),d(9,"path",8),r()(),E(),n(10,"li",9),l(11),r()()(),n(12,"div",10),d(13,"paimon-blog-detail-footer",11),r()()),i&2){let e=p();s("html",e.article.content)("toc",e.article.toc),a(6),s("routerLink",le(8,we)),a(5),u(" ",e.article.name," "),a(2),s("preName",e.article.pre==null?null:e.article.pre.name)("preUrl",v(9,Ce,e.article.pre==null?null:e.article.pre.id))("nextName",e.article.next==null?null:e.article.next.name)("nextUrl",v(11,Ce,e.article.next==null?null:e.article.next.id))}}var $=class i{constructor(t,e,o){this.articleService=t;this.activatedRoute=e;this.cdr=o;this.article=null;this.destroyRef=T(P);this.platformId=T(oe)}ngOnInit(){this.activatedRoute.params.pipe(V(this.destroyRef)).subscribe(({id:t})=>{me(this.platformId)&&window.scrollTo({top:0,left:0,behavior:"auto"}),this.articleService.get(t).subscribe(e=>{this.article=e,this.cdr.markForCheck()})})}static{this.\u0275fac=function(e){return new(e||i)(m(_),m(z),m(j))}}static{this.\u0275cmp=f({type:i,selectors:[["paimon-blog-detail"]],standalone:!0,features:[g],decls:1,vars:1,consts:[[3,"html","toc"],["header",""],[1,"flex","items-center","whitespace-nowrap"],[1,"inline-flex","items-center","text-paimon-gray-12","hover:text-paimon-blue-primary"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-2","size-4","shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"],["translate","",1,"flex","items-center","text-sm","focus:outline-none",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"mx-2","size-4","shrink-0","text-paimon-gray-10"],["d","m9 18 6-6-6-6"],[1,"inline-flex","items-center","truncate","text-sm","font-semibold","text-paimon-gray-10"],["footer",""],[3,"preName","preUrl","nextName","nextUrl"]],template:function(e,o){e&1&&B(0,Ae,14,13,"paimon-markdown-render",0),e&2&&A(o.article?0:-1)},dependencies:[C,H,xe,y,h],encapsulation:2,changeDetection:0})}};var he=i=>[i],q=class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=f({type:i,selectors:[["paimon-blog-card"]],inputs:{article:"article"},standalone:!0,features:[g],decls:10,vars:12,consts:[[1,"relative","flex","flex-col","gap-6","rounded-2xl","bg-paimon-gray-1","p-6"],[1,"text-xs","font-normal","text-paimon-gray-7"],[1,"text-2xl","font-medium","text-paimon-gray-14","hover:underline",3,"routerLink"],[1,"text-base","text-paimon-gray-14","opacity-50"],["translate","",1,"p-30","mt-12","flex","h-12","w-32","items-center","justify-center","rounded-3xl","bg-paimon-gray-2","text-paimon-gray-13","hover:bg-paimon-gray-3",3,"routerLink"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1),l(2),ce(3,"date"),r(),n(4,"a",2),l(5),r(),n(6,"div",3),l(7),r(),n(8,"a",4),l(9," Read More "),r()()),e&2&&(a(2),x(se(3,5,o.article.date,"longDate")),a(2),s("routerLink",v(8,he,o.article.id)),a(),u(" ",o.article.name," "),a(2),x(o.article.abstract),a(),s("routerLink",v(10,he,o.article.id)))},dependencies:[pe,C,y,h],encapsulation:2,changeDetection:0})}};var Ie=i=>[i];function Be(i,t){if(i&1){let e=N();n(0,"div",5),M("click",function(){let c=b(e).$implicit,S=p(2);return w(S.categoryChange(c))}),l(1),r()}if(i&2){let e=t.$implicit,o=p(2);k("bg-paimon-blue-primary",o.selectedCategory===e)("text-paimon-gray-1",o.selectedCategory===e)("bg-paimon-gray-1",o.selectedCategory!==e),a(),u(" ",e," ")}}function ke(i,t){if(i&1){let e=N();n(0,"div",0)(1,"div",3),M("click",function(){b(e);let c=p();return w(c.categoryChange(""))}),l(2," All "),r(),R(3,Be,2,7,"div",4,D),r()}if(i&2){let e=p();a(),k("bg-paimon-blue-primary",e.selectedCategory==="")("text-paimon-gray-1",e.selectedCategory==="")("bg-paimon-gray-1",e.selectedCategory!==""),a(2),L(e.listOfCategories)}}function De(i,t){if(i&1&&(n(0,"div",9)(1,"a",15),l(2),r()()),i&2){let e=t.$implicit;a(),s("routerLink",v(2,Ie,e.id)),a(),x(e.name)}}function Re(i,t){if(i&1&&d(0,"paimon-blog-card",12),i&2){let e=t.$implicit;s("article",e)}}function Le(i,t){if(i&1){let e=N();n(0,"div",1)(1,"div",6)(2,"div",7),l(3,"Latest Posts"),r(),n(4,"div",8),R(5,De,3,4,"div",9,D),r()(),n(7,"div",10)(8,"div",11),R(9,Re,1,1,"paimon-blog-card",12,D),r(),n(11,"div",13)(12,"paimon-pagination",14),ae("pageIndexChange",function(c){b(e);let S=p();return K(S.pageIndex,c)||(S.pageIndex=c),w(c)})("pageSizeChange",function(c){b(e);let S=p();return K(S.pageSize,c)||(S.pageSize=c),w(c)}),M("pageIndexChange",function(){b(e);let c=p();return w(c.updateShown())})("pageSizeChange",function(){b(e);let c=p();return w(c.updateShown())}),r()()()()}if(i&2){let e=p();a(5),L(e.listOfLatestArticles),a(4),L(e.listOfShownArticles),a(3),s("total",e.total),re("pageIndex",e.pageIndex)("pageSize",e.pageSize)}}function Te(i,t){i&1&&(n(0,"div",2),l(1,"No Post found"),r())}var J=class i{constructor(t,e){this.articleService=t;this.cdr=e;this.total=0;this.pageIndex=1;this.pageSize=5;this.latestPostsPageSize=10;this.selectedCategory="";this.listOfArticles=[];this.listOfShownArticles=[];this.listOfLatestArticles=[];this.listOfCategories=[]}ngOnInit(){this.articleService.list().subscribe(t=>{this.total=t.length,this.listOfLatestArticles=t.slice(0,this.latestPostsPageSize),this.listOfShownArticles=t.slice(0,this.pageSize),this.listOfArticles=t,this.listOfCategories=this.articleService.getCategories(t),this.cdr.markForCheck()})}updateShown(){let t=this.listOfArticles.filter(o=>!this.selectedCategory||o.categories.includes(this.selectedCategory)),e=(this.pageIndex-1)*this.pageSize;this.listOfLatestArticles=t.slice(0,this.latestPostsPageSize),this.listOfShownArticles=t.slice(e,e+this.pageSize),this.total=t.length}categoryChange(t){this.pageIndex=1,this.selectedCategory=t,this.updateShown()}static{this.\u0275fac=function(e){return new(e||i)(m(_),m(j))}}static{this.\u0275cmp=f({type:i,selectors:[["paimon-blog-list"]],standalone:!0,features:[g],decls:3,vars:2,consts:[[1,"flex","flex-row","flex-wrap","gap-4","py-10"],[1,"flex","flex-row","gap-12"],["translate","",1,"flex","min-h-40","items-center","justify-center"],["translate","",1,"flex","h-8","cursor-pointer","items-center","justify-center","rounded-2xl","bg-paimon-gray-1","px-4","py-2",3,"click"],[1,"flex","h-8","w-max","cursor-pointer","items-center","justify-center","rounded-2xl","px-4","py-2",3,"bg-paimon-blue-primary","text-paimon-gray-1","bg-paimon-gray-1"],[1,"flex","h-8","w-max","cursor-pointer","items-center","justify-center","rounded-2xl","px-4","py-2",3,"click"],[1,"hidden","w-60","flex-col","gap-8","md:flex"],["translate","",1,"text-xl","font-normal","text-paimon-gray-8"],[1,"flex","flex-col","gap-8"],[1,"flex","flex-row","items-center","gap-4","text-base","font-normal","text-paimon-gray-14"],[1,"flex","flex-1","flex-col"],[1,"flex","flex-1","flex-col","gap-8"],[3,"article"],[1,"mt-8"],[3,"pageIndexChange","pageSizeChange","total","pageIndex","pageSize"],[1,"hover:text-paimon-blue-primary",3,"routerLink"]],template:function(e,o){e&1&&B(0,ke,5,6,"div",0)(1,Le,13,3,"div",1)(2,Te,2,0,"div",2),e&2&&(A(o.listOfCategories.length>0?0:-1),a(),A(o.listOfShownArticles.length?1:2))},dependencies:[ue,q,C,y,h],encapsulation:2,changeDetection:0})}};var bt=[{path:"",component:U,children:[{path:"",component:J},{path:":id",canActivate:[W],component:$},{path:"**",pathMatch:"full",redirectTo:""}]}];export{bt as blogRoutes};
